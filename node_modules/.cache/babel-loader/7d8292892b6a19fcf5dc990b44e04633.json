{"ast":null,"code":"import _toConsumableArray from\"D:/Assignments/React/amzon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:/Assignments/React/amzon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var initialState={basket:[],user:null};// Selector\nexport var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount;},0);};var reducer=function reducer(state,action){// console.log(action ,\"Chal rha hai\")\nswitch(action.type){case'ADD_TO_BASKET':return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case'REMOVE_FROM_BASKET':// ...state,\n// basket:state.basket.filter(item=>item.id !==action.id)\nvar index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});var newBasket=_toConsumableArray(state.basket);if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Cant remove product (id:\".concat(action.id,\") as it is in basket!\"));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});case'SET_USER':return _objectSpread(_objectSpread({},state),{},{user:action.user});default:return state;}};export default reducer;","map":{"version":3,"sources":["D:/Assignments/React/amzon-clone/src/reducer.js"],"names":["initialState","basket","user","getBasketTotal","reduce","amount","item","price","reducer","state","action","type","index","findIndex","basketItem","id","newBasket","splice","console","warn"],"mappings":"qTAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CACxBC,MAAM,CAAE,EADgB,CAExBC,IAAI,CAAC,IAFmB,CAArB,CAIP;AACA,MAAO,IAAMC,CAAAA,cAAc,CAAE,QAAhBA,CAAAA,cAAgB,CAACF,MAAD,QACzBA,CAAAA,MADyB,SACzBA,MADyB,iBACzBA,MAAM,CAAEG,MAAR,CAAe,SAACC,MAAD,CAASC,IAAT,QAAgBA,CAAAA,IAAI,CAACC,KAAL,CAAaF,MAA7B,EAAf,CAAoD,CAApD,CADyB,EAAtB,CAIP,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAC/B;AACA,OAAQA,MAAM,CAACC,IAAf,EACI,IAAK,eAAL,CACI,sCACOF,KADP,MAEIR,MAAM,8BAAMQ,KAAK,CAACR,MAAZ,GAAoBS,MAAM,CAACJ,IAA3B,EAFV,GAIA,IAAK,oBAAL,CAEQ;AACA;AACA,GAAMM,CAAAA,KAAK,CAAEH,KAAK,CAACR,MAAN,CAAaY,SAAb,CACT,SAACC,UAAD,QACAA,CAAAA,UAAU,CAACC,EAAX,GAAgBL,MAAM,CAACK,EADvB,EADS,CAAb,CAIA,GAAIC,CAAAA,SAAS,oBAAOP,KAAK,CAACR,MAAb,CAAb,CACA,GAAGW,KAAK,EAAE,CAAV,CAAY,CACRI,SAAS,CAACC,MAAV,CAAiBL,KAAjB,CAAuB,CAAvB,EAEH,CAHD,IAII,CACAM,OAAO,CAACC,IAAR,mCAAwCT,MAAM,CAACK,EAA/C,2BAEH,CACD,sCACON,KADP,MAEIR,MAAM,CAACe,SAFX,GAIA,IAAK,UAAL,CACI,sCACOP,KADP,MAEIP,IAAI,CAACQ,MAAM,CAACR,IAFhB,GAMhB,QACI,MAAOO,CAAAA,KAAP,CAnCR,CAsCH,CAxCD,CAyCA,cAAeD,CAAAA,OAAf","sourcesContent":["export const initialState = {\r\n    basket: [],\r\n    user:null\r\n};\r\n// Selector\r\nexport const getBasketTotal =(basket) =>\r\n    basket?.reduce((amount ,item)=>item.price + amount ,0)\r\n\r\n\r\nconst reducer = (state, action) => {\r\n    // console.log(action ,\"Chal rha hai\")\r\n    switch (action.type) {\r\n        case 'ADD_TO_BASKET':\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket, action.item],\r\n            };\r\n            case 'REMOVE_FROM_BASKET':\r\n                \r\n                    // ...state,\r\n                    // basket:state.basket.filter(item=>item.id !==action.id)\r\n                    const index =state.basket.findIndex(\r\n                        (basketItem)=>\r\n                        basketItem.id===action.id\r\n                    );\r\n                    let newBasket = [...state.basket];\r\n                    if(index>=0){\r\n                        newBasket.splice(index,1)\r\n\r\n                    }\r\n                    else{\r\n                        console.warn(`Cant remove product (id:${action.id}) as it is in basket!`)\r\n\r\n                    }\r\n                    return{\r\n                        ...state,\r\n                        basket:newBasket\r\n                    }\r\n                    case 'SET_USER':\r\n                        return{\r\n                            ...state,\r\n                            user:action.user\r\n                        }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n    \r\n};\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}